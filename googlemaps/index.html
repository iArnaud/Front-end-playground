<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Google Maps Workshop</title>
        <style>
            #map-canvas {
                width: 500px;
                height: 400px;
                background-color: #CCC;
            }
        </style>
        <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBoh0w_7SYPgEkpKAq5uvIcpLfXyX8efAs&sensor=false"></script>
        <script>
            var defaultZoom= 8;
            function logger(message) {
                document.getElementById('logger').innerText = message;
            }
            function initialize() {
                var map_canvas = document.getElementById('map-canvas');
                var mapOptions = {
                    center: new google.maps.LatLng(47, -2)
                    ,zoom: defaultZoom
                    ,mapTypeId: google.maps.MapTypeId.ROADMAP
                }
                var map = new google.maps.Map(map_canvas, mapOptions);
                // ---------- styles
                var mapStyles = [
                {
                    featureType: 'all'
                    ,stylers: [{visibility: 'off'}]
                }
                ,{
                    featureType: 'road'
                    ,stylers: [
                    { hue: '#ff0023' }
                    ,{ saturation: 40 }
                    ,{ visibility: 'on' }
                    ]
                }
                ];
                map.setOptions({styles: mapStyles});

                // ---------- markers
                var marker = new google.maps.Marker({
                    position: map.getCenter()
                    ,map: map
                    ,title: 'Click to zoom'
                });
                var infowindow = new google.maps.InfoWindow(
                {
                    content: "A text."
                    ,size: new google.maps.Size(50,50)
                });

                // ---------- eventListeners
                google.maps.event.addListener(map, 'center_changed', function() {
                    logger("Map center reset!");
                });
                google.maps.event.addListener(marker, 'click', function() {
                    map.setZoom(defaultZoom);
                    map.panTo(marker.getPosition())
                    infowindow.open(map,marker);
                });
                google.maps.event.addListener(map, 'zoom_changed', function() {
                    var zoomLevel = map.getZoom();
                    logger('Zoom: ' + zoomLevel);
                });

            }
            google.maps.event.addDomListener(window, 'load', initialize);


        </script>
    </head>
    <body>
        <div id="map-canvas"></div>
        <p id="logger"></p>
    </body>
</html>
